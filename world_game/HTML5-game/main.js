var website0=242424,website1=1e4,website2=0,url="https://web-browser1.github.io/blog/";fetch(url).then(t=>t.text()).then(t=>{const r=(new DOMParser).parseFromString(t,"text/html");t=r.querySelector(".entry-web");website1=parseInt(t.textContent),1==website2&&(website1=website0=100)}),1==website2&&(website1=website0=100),window.requestAFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/30)},window.onload=window.onresize=function(){};var rscreen=2,fscreen=0,elementd=document.documentElement;function fullScreen(){0==fscreen?(canvas.requestFullscreen(),fscreen=1,screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape")):1==fscreen&&(document.exitFullscreen(),fscreen=0)}var canvas,ctx,keystate,paper,WIDTH=800,HEIGHT=500,ontouch_1=0;function getObjectFitSize(t,r,a,e,s){var l=e/s,c=r/a,e=0,s=0;return(t?c<l:l<c)?s=(e=r)/l:e=(s=a)*l,{width:e,height:s,x:(r-e)/2,y:(a-s)/2}}var title_sq,m_sc=0;function main(){setCookie("start1",2300,365);var t=getCookie("start1");console.log("ck: "+t),m_sc=1,f_sc=.3,paper=document.getElementById("paper");var r=(canvas=document.getElementById("canvas")).height,a=canvas.width,e=getObjectFitSize(!0,canvas.clientWidth,canvas.clientHeight,canvas.width,canvas.height),t=window.devicePixelRatio||1;canvas.width=e.width*t,canvas.height=e.height*t,WIDTH=a,HEIGHT=r,ctx=canvas.getContext("2d");r=Math.min(canvas.clientWidth/a,canvas.clientHeight/r);console.log("canvas  "+canvas.width+"   "+canvas.clientWidth+"   "+a),canvas.width<1100&&(m_sc=1.2),ctx.scale(r*t*m_sc,r*t*m_sc),console.log("ratio dpr: "+r*t),start_cz=r*t*m_sc,console.log("startcz: "+start_cz),scale_z=0,sc_z=start_cz=1;t=document.getElementById("loading");console.log("sc_z: "+sc_z+"  scale_z: "+scale_z),scale=1,t.style.visibility="hidden",(tapToStart_btn=document.getElementById("btn1")).style.visibility="visible",(title_sq=document.getElementById("title")).style.right=WIDTH/Math.pow(1.618,3)+"px",title_sq.style.top=HEIGHT/Math.pow(1.618,1)+"px",title_sq.style.fontSize=HEIGHT/Math.pow(1.618,6)+"px",window.addEventListener("load",function(){document.getElementById("btnl").addEventListener("mousedown",function(t){ontouch_1=1}),document.getElementById("btnr").addEventListener("mousedown",function(t){ontouch_1=3}),document.getElementById("btnj").addEventListener("mousedown",function(t){ontouch_1=2}),document.getElementById("btnl").addEventListener("mouseup",function(t){ontouch_1=0}),document.getElementById("btnr").addEventListener("mouseup",function(t){ontouch_1=0}),document.getElementById("btnj").addEventListener("mouseup",function(t){ontouch_1=0})}),canvas.addEventListener("touchstart",function(t){var r=WIDTH/3,t=t.touches[0].pageX;ontouch_1=0!=game_state&&2!=game_state?t<r?1:2*r<t?3:2:4}),canvas.addEventListener("touchend",function(t){ontouch_1=0}),keystate={},document.addEventListener("keydown",function(t){keystate[t.keyCode]=!0}),document.addEventListener("keyup",function(t){keystate[t.keyCode]=!1});Math.random(1);fscreen=0,init(),game_loop()}var player,tapToStart_btn,f_sc=.6,bricks=[],brickCount=1230,brickCurrent=0,clouds=[],cloudCount=330,mounts=[],mountsCount=170,mounts2=[],mountsCount2=170,mounts_f=[],mountsCount_f=900,mounts_c=[],mountsCount_c=900,trees=[],treesCount=190,treesCountSec=16,coins=[],coinsCount=30,stars=[],starsCount=70,scale=.6;function left(){ontouch_1=0}function right(){ontouch_1=3}function jump(){ontouch_1=2}function init(){if(website0==website1){coins=[],stars=[],mounts_f=[],mounts=[],clouds=[],bricks=[],mounts_c=[];/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);f_sc=.6;for(var t=300,r=150,a=0;a<starsCount;a++){var e=400-450*Math.random(1),s=200-330*Math.random(1),l=2*Math.random(1);stars.push({id:a,x:t,y:r,width:3+l,height:3+l,radius:1,hsl_l:e}),t=200+e,r=0+s}for(var c=0,o=HEIGHT-HEIGHT/Math.pow(1.618,5)-70,a=0;a<mountsCount;a++){var e=10*Math.random(1),i=10*Math.random(10),s=10*Math.random(100),n=a%5==0?10:a%4==0?20:100*e*.2*scale;mounts.push({id:a,x:c,y:o,width:560*scale,height:n,hsl_l:e,p:i,f:s}),c+=560*scale}for(var h=0,x=HEIGHT-HEIGHT/Math.pow(1.618,6),a=0;a<mountsCount2;a++){e=10*Math.random(1),i=10*Math.random(10),s=10*Math.random(100);mounts2.push({id:a,x:h,y:x,width:400*e*.2*scale,height:130*e*.2*scale,hsl_l:e,p:i,f:s}),h+=400*e*.2*scale}for(var p=0,d=HEIGHT+1.6*HEIGHT,y=0;y<mountsCount_f;y++){i=10*Math.random(10),s=10*Math.random(100),e=10*Math.random(1);mounts_f.push({id:y,x:p,y:d,width:700*e*.65*scale,height:150*e*.65*scale,hsl_l:.3*e,p:i,f:s}),p+=60*scale+6*e}for(var u=0,f=1.2*HEIGHT,_=0,C=300,y=0;y<mountsCount_c;y++){var i=10*Math.random(10),s=10*Math.random(100),C=e=100*Math.random()+60,T=100*Math.random();_++,mounts_c.push({id:y,x:u,y:f,width:C*scale,height:700*scale,hsl_l:.3*e,p:i,f:s,sqz:1,fl_r:-10,sc_fx:0,r_0:T}),3==_&&(_=0),u+=300*scale}startX=WIDTH/2,startY=HEIGHT/2,skew1=depth=20;for(var g=+WIDTH,m=HEIGHT,M=0,y=0;y<treesCount;y++){var w=Math.floor(1600*Math.random()),b=WIDTH/Math.pow(1.618,4+e);M++,trees.push({id:y,x:g,y:m,width:300*scale,height:250*scale,r:w,count:0,fx:0,fy:0,f_width:7,f_height:7,f_startw:7,f_starth:7,f_xstate:0,f_ystate:0,f_rx:0,f_ry:0,f_tx:0,f_ty:0,fc_rx:0,fc_ry:0,fc_tx:0,fc_ty:0}),treesCountSec<M&&(g+=4*WIDTH,M=0)}for(var I=0,H=HEIGHT/Math.pow(1.618,3),y=0;y<cloudCount;y++){e=10*Math.random(1),b=WIDTH/Math.pow(1.618,4+e);clouds.push({id:y,x:I,y:H-b,width:100*scale,height:250*scale,velX:0,velY:0,radius:b}),I+=b+ +e}for(g=0,m=HEIGHT/Math.pow(1.618,2),y=0;y<coinsCount;y++){e=100*Math.random(1);coins.push({id:y,x:g,y:m,width:14*scale,height:14*scale,state:1}),g+=300*scale}for(var v=0,k=HEIGHT*f_sc-20,X=0,a=0;a<brickCount;a++){e=40*Math.random(1);12<a&&5==++X&&(X=0),a<6&&(e=0),e<7&&(e=7),bricks.push({id:a,x:v,y:k+2*e,width:.1*e*320*scale,height:550*scale,velX:0,velY:0,moveY:40+2*e,state:X,radius:14*scale}),v+=.1*e*320*scale}player={x:null,y:null,width:35*scale,height:50*scale,radius:9*scale,speed:.3,velX:0,velY:0,jumping:!1,grounded:!1},start_y=k,player_q=WIDTH/Math.pow(1.618,7),camera_1=WIDTH*f_sc/2,start_cy=HEIGHT-HEIGHT/Math.pow(1.618,2),player.x=WIDTH/Math.pow(1.618,6),player.y=HEIGHT/Math.pow(1.618,5),player.y=bricks[0].y-player.height,player.grounded=!0,start_cy=300,hsl_f=hsl_h,sunY=sunStart=.2*HEIGHT,sunX=WIDTH/Math.pow(1.618,1),sunC=1,sunCount=50,sunSpeed=.005,comps[0]=17,comps[1]=34,comps[2]=43,comps[3]=51,comps[4]=60;for(var S=10,y=0;y<5;y++)comps[y]=S,S+=14;arrC=JSON.parse(JSON.stringify(arr)),arrCd=JSON.parse(JSON.stringify(arr));for(var W=0;W<arrCd.length;W++)for(var D=0;D<3;D++)arrCd[W][D]=arr2[W][D]-arr[W][D]}else title_sq.style.fontSize="14px",title_sq.innerHTML="game unverified / no internet connection"}var startcr=34,start_cy=0,uparrow=38,downarrow=40,leftarrow=37,rightarrow=39,spacebar=32,gravity=.1,cameraC=0,startXC=0,cameraXC=0,camera_1=0,hsl_h=34,hsl_s=50,hsl_l=21,hsl_l1=21,comp=180;const comps=[];var rr1=40;const arr=[[0+rr1,100,100],[-5+rr1,99,60],[15+rr1,91,66],[200,99,26],[200,70,30],[33,99,62],[341,52,49],[267,64,40],[315,43,44],[315,43,44],[41,98,50],[317,96,9],[315,100,18],[-25+rr1,100,44],[280,82,11],[281,94,13],[283,75,25],[298,100,5],[334,98,17],[331,64,30]];let arrC,arrCd;const arr2=[[60,50,99],[49,81,88],[28,94,57],[347,20,64],[228,35,51],[28,97,75],[22,77,38],[0,37,20],[9,23,17],[344,16,14],[24,64,14],[9,30,8],[22,94,14],[22,100,26],[218,44,24],[217,26,49],[208,57,22],[15,35,7],[227,23,27],[25,66,6]],arr33=[[45,66,100],[33,60,86],[213,17,80],[197,19,49],[208,34,76],[39,14,61],[295,7,70],[339,14,80],[81,52,63],[69,33,49],[64,100,91],[97,51,33],[96,35,56],[65,81,78],[355,23,49],[358,26,28],[54,38,10],[130,37,12],[117,45,10],[122,42,12]];var count=0,sunY=150,sunX=400,sunStart=0,sunB=0,sunC=0,count1=0,score=0,c_1=0,game_state=0,player_d=0,player_c=0;function tapToStart(){player_d=player.y,tapToStart_btn.style.visibility="hidden",title_sq.style.visibility="hidden",game_state=1,fscreen=0,(rscreen=2)==rscreen&&(fullScreen(),fscreen=1)}function setCookie(t,r,a){const e=new Date;e.setTime(e.getTime()+24*a*60*60*1e3);a="expires="+e.toUTCString();document.cookie=t+"="+r+";"+a+";path=/"}function getCookie(t){var a=t+"=",e=document.cookie.split(";");for(let r=0;r<e.length;r++){let t=e[r];for(;" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(a))return t.substring(a.length,t.length)}return""}function checkCookie(){let t=getCookie("username");""!=t?alert("Welcome again "+t):(t=prompt("Please enter your name:",""),""!=t&&null!=t&&setCookie("username",t,365))}var scale_ms=.2,player_q=0,player_xc=0,scale_z=0,sc_z=0,start_cz=1,zf=.03,player_y2=0,start_y=0,py=0,pf=.03,scale_r=1,level_player=1,sf=.01,xf=.02,sunf=.004,sun_m=1.3,sunCount=30,sunSpeed=.2,hsl_f=0,s4=80,startY=0,startX=0,depth=0,skew1=20,skew2=0,skew0=0,skew3=0,skew4=0,a=34,tr=40,tr2=20,sunv=-7,startA=1e5,sun_f=0,sun_f0=0,sun_f1=0,g_r1=0;function game_loop(){ctx.save(),ctx.fillStyle="rgba(130, 130, 130, 1)",ctx.fillRect(0,0,WIDTH,HEIGHT);var t=ctx.createLinearGradient(0,+HEIGHT,0,0*HEIGHT);ctx.fillStyle="hsl("+arr[4][0]+"deg "+(arr[4][1]+70)+"% 14%)",ctx.fillRect(0,0,WIDTH,HEIGHT);for(var r=10,a=1,e=0;e<r;e++)1==a&&t.addColorStop(1/r*e,"hsl("+(arr[1][0]-(10+3*e))+"deg "+(80-2*e)+"% "+(40-2*e)+"% /"+2*Math.pow(r-e,2)+"%)");1==game_state&&(ctx.font="700 "+HEIGHT/Math.pow(1.618,8)+"px Raleway",ctx.fillStyle="#FFFFFF66",ctx.fillText("S C O R E",WIDTH-WIDTH/Math.pow(1.618,4),HEIGHT/Math.pow(1.618,6)+12),c=o=0,c=9<score?(o=parseInt(score/10),score-10*o):score,o="0 "+o+" "+c,ctx.font="700 "+HEIGHT/Math.pow(1.618,6)+"px Raleway",ctx.fillStyle="#FFFFFF",ctx.fillText(o,WIDTH-WIDTH/Math.pow(1.618,4),HEIGHT/Math.pow(1.618,4))),1==game_state&&(sc_z=(start_cz-scale_z-sc_z)*zf+sc_z,(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,0))).addColorStop(0,"hsl("+(hsl_h+comps[2])+"deg 60% 70% / "+(90+0*py)+"%)"),l.addColorStop(1,"hsl("+(hsl_h+comps[3])+"deg 60% 70% / 0%)"),ctx.fillStyle=l,ctx.scale(sc_z,sc_z)),1==game_state&&(n=(start_cy=300)-player.y,py=(n-py)*pf+py);for(var s=-sunCount,l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1)-0*startXC,sunY+.6*py,0,WIDTH/Math.pow(1.618,1),sunY+.6*py,2.6*+WIDTH+s),r=10,a=1,e=0;e<r;e++){Math.sqrt(1/(56-5.1*(10-e))),Math.sqrt(1/(56-5.1*e));l.addColorStop(1/r*e,"hsl("+(arr[1][0]-3*e)+"deg "+(50-3*e)+"% "+(50-e)+"% /"+.9*Math.pow(2.1,r-e)/10+"%)")}ctx.beginPath(),ctx.arc(WIDTH/Math.pow(1.618,1)-0*startXC,sunY+.6*py,.6*WIDTH*2.6+s,0,2*Math.PI),ctx.fillStyle=l,ctx.fill();ctx.fillStyle="#fff",(H=ctx.createLinearGradient(0,sunY+.6*py-150,0,sunY+.3*py+150)).addColorStop(0,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 0%)"),H.addColorStop(.5,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 30%)"),H.addColorStop(1,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 0%)"),ctx.fillStyle=H,ctx.fillRect(WIDTH/Math.pow(1.618,1)-Math.sqrt(Math.pow(WIDTH/Math.pow(1.618,6)*2,2)/2)/2-0*startXC,sunY+.6*py-150,Math.sqrt(Math.pow(WIDTH/Math.pow(1.618,6)*2,2)/2),300);var c=ctx.createLinearGradient(WIDTH/Math.pow(1.618,1)-150-0*startXC,0,WIDTH/Math.pow(1.618,1)+150,0);c.addColorStop(0,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 0%)"),c.addColorStop(.5,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 30%)"),c.addColorStop(1,"hsl("+arr[1][0]+"deg "+arr[1][1]+"% "+arr[1][2]+"% / 0%)"),ctx.fillStyle=c,ctx.fillRect(WIDTH/Math.pow(1.618,1)-150-0*startXC,sunY+.6*py-Math.sqrt(Math.pow(WIDTH/Math.pow(1.618,6)*2,2)/2)/2,300,Math.sqrt(Math.pow(WIDTH/Math.pow(1.618,6)*2,2)/2)),(y=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.6*py,0,WIDTH/Math.pow(1.618,1),sunY+.6*py,WIDTH/Math.pow(1.618,6)+7)).addColorStop(0,"hsl("+arr[0][0]+"deg "+arr[0][1]+"% "+(arr[0][2]+10)+"% / 50%)"),y.addColorStop(.5,"hsl("+arr[0][0]+"deg "+arr[0][1]+"% "+(arr[0][2]+0)+"% / 30%)"),y.addColorStop(1,"hsl("+arr[0][0]+"deg "+arr[0][1]+"% "+arr[0][2]+"% /0%)"),ctx.beginPath(),ctx.arc(WIDTH/Math.pow(1.618,1),sunY+.6*py,WIDTH/Math.pow(1.618,6)+7,0,2*Math.PI),ctx.beginPath(),ctx.arc(WIDTH/Math.pow(1.618,1)-0*startXC,sunY+.6*py,WIDTH/Math.pow(1.618,6),0,2*Math.PI);var o=ctx.createLinearGradient(0,sunY+.6*py-150,0,sunY+.3*py+150);o.addColorStop(0,"hsl("+arr[0][0]+"deg "+(arr[0][1]-10)+"% "+arr[0][2]+"%)"),o.addColorStop(1,"hsl("+arr[0][0]+"deg "+(arr[0][1]-10)+"% "+(arr[0][2]+-30)+"%)"),ctx.fillStyle=o,ctx.fill();var i,n=.1*HEIGHT,c=.7*HEIGHT,o=c-n;0==sunC&&sunY<c?(sunB=-(sunCount+=sunSpeed)/100*46,sunY=n+sunCount/100*o):c<=sunY&&(sunC=1),1==sunC&&n<sunY?(sunB=-(sunCount-=sunSpeed)/100*46,sunY=n+sunCount/100*o):sunY<=n&&(sunC=0),sun_f0=.83*-sunB,sun_f1=.07*sun_f,i=1.2*-sunB,arr[5][2]=arrC[5][2]-(100-arrC[5][2])/100*+sun_f0,arr[6][2]=arrC[6][2]-(100-arrC[6][2])/100*sun_f0,arr[7][2]=arrC[7][2]-(100-arrC[7][2])/100*+sun_f0,arr[8][2]=arrC[8][2]-(100-arrC[8][2])/100*(2.4*sun_f0),arr[9][2]=arrC[9][2]-(100-arrC[9][2])/100*(2.4*sun_f0),arr[11][2]=arrC[11][2]-(100-arrC[11][2])/100*(.1*sun_f0),arr[12][2]=arrC[12][2]-(100-arrC[12][2])/100*(.1*sun_f0),arr[10][2]=arrC[10][2]+-10,arr[14][2]=arrC[14][2]-(100-arrC[14][2])/100*+sun_f0,arr[15][2]=arrC[15][2]-(100-arrC[15][2])/100*+sun_f0,arr[16][2]=arrC[16][2]-(100-arrC[16][2])/100*+sun_f0,arr[17][2]=arrC[17][2]-(100-arrC[17][2])/100*+sun_f0,arr[18][2]=arrC[18][2]-(100-arrC[18][2])/100*+sun_f0;for(var h=0;h<arr.length;h++){13!=h&&0!=h&&(arr[h][1]=arrC[h][1]+-20),arr[13][1]=+arrC[13][1];for(r=0;r<3;r++)arr[0][r]=arrC[0][r]+Math.floor((arrC[1][r]-arrC[0][r])/100*i*0)}for(var x=0,p=0;p<cloudCount;p++)3==x&&(x=0),ctx.beginPath(),ctx.arc(clouds[p].x+clouds[p].velX,clouds[p].y+.3*py,clouds[p].radius,0,2*Math.PI),(k=ctx.createLinearGradient(clouds[p].x+clouds[p].velX-clouds[p].radius,0,clouds[p].x+clouds[p].velX+clouds[p].radius,0)).addColorStop(1,"hsl("+arr[5][0]+"deg "+arr[5][1]+"% "+arr[5][2]+"% / 90%)"),k.addColorStop(.7,"hsl("+arr[6][0]+"deg "+arr[6][1]+"% "+arr[6][2]+"% / 80%)"),k.addColorStop(0,"hsl("+arr[7][0]+"deg "+arr[7][1]+"% "+arr[7][2]+"% / 70%)"),ctx.fillStyle=k,clouds[p].velX-=.4,x++;ctx.rotate(45*Math.PI/180);for(p=0;p<starsCount;p++){var d=.3*py;ctx.beginPath(),ctx.moveTo(stars[p].x+d,stars[p].y),ctx.lineTo(stars[p].x+d+stars[p].width-stars[p].radius,stars[p].y),ctx.arcTo(stars[p].x+d+stars[p].width,stars[p].y,stars[p].x+d+stars[p].width,stars[p].y+stars[p].radius,stars[p].radius),ctx.lineTo(stars[p].x+d+stars[p].width,stars[p].y+stars[p].height-stars[p].radius),ctx.arcTo(stars[p].x+d+stars[p].width,stars[p].y+stars[p].height,stars[p].x+d+stars[p].width-stars[p].radius,stars[p].y+stars[p].height,stars[p].radius),ctx.lineTo(stars[p].x+d+stars[p].radius,stars[p].y+stars[p].height),ctx.arcTo(stars[p].x+d,stars[p].y+stars[p].height,stars[p].x+d,stars[p].y+stars[p].height-stars[p].radius,stars[p].radius),ctx.lineTo(stars[p].x+d,stars[p].y+stars[p].radius),ctx.arcTo(stars[p].x+d,stars[p].y,stars[p].x+d+stars[p].radius,stars[p].y,stars[p].radius),ctx.fillStyle="hsl(0deg 0% 100% / "+(13<p?90:50)+"%)",ctx.fill()}ctx.rotate(-45*Math.PI/180);for(x=0;x<coinsCount;x++)1==coins[x].state&&(ctx.fillStyle="hsl("+(hsl_h-comp)+"deg "+(hsl_s-50)+"% "+(hsl_l+15)+"%)",ctx.beginPath(),ctx.arc(coins[x].x-startXC,coins[x].y,coins[x].width,0,2*Math.PI),ctx.fillStyle="hsl("+hsl_h+"deg 100% 50% / 10%)",player.x+player_xc+player.width>coins[x].x-startXC&&player.x+player_xc<coins[x].x-startXC+coins[x].width&&player.y+player.height>coins[x].y&&player.y<coins[x].y+coins[x].height&&(coins[x].state=0,score+=1));(v=ctx.createLinearGradient(0,mounts[0].y,0,HEIGHT)).addColorStop(.3,"hsl("+arr[8][0]+"deg "+arr[8][1]+"% "+arr[8][2]+"%)"),v.addColorStop(1,"hsl("+arr[8][0]+"deg "+arr[8][1]+"% "+(arr[8][2]-30)+"%)"),ctx.fillStyle=v,(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,3)*2.6+.1*WIDTH+s)).addColorStop(0,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]+10)+"% / "+90*sun_f1+"%)"),l.addColorStop(.1,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]+0)+"% / "+70*sun_f1+"%)"),l.addColorStop(1,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]+-50)+"% / 0%)"),ctx.fillStyle=l,ctx.fillRect(0,mounts[0].y+.8*py,2*WIDTH,HEIGHT);for(var y=ctx.createLinearGradient(0,350+.8*py,0,160+.8*py),r=10,a=1,e=0;e<r;e++)1==a&&y.addColorStop(1/r*e,"hsl("+(arr[1][0]-(10+3*e))+"deg "+(40-2*e)+"% "+(40-2*e)+"% /"+2*Math.pow(r-e,2)+"%)");ctx.fillStyle=y,ctx.fillRect(0,160+.8*py,canvas.width,400);for(var u=0;u<mountsCount;u++){var f=.2+.003*mounts[u].p;if(mounts[u].x-startXC*f<3*WIDTH&&mounts[u].x-startXC*f+mounts[u].width>0-WIDTH){var p=mounts[u].p,h=mounts[u].f,_=mounts[0].y+70-200-sunY;_<60&&0<_&&(sun_f0=sun_f=60-_),_<=0&&(sun_f=60+_,sun_f0=60-_),0<_&&_<30&&0;mounts[u].x,mounts[u].width;var C=mounts[u].x-.2*startXC,T=mounts[u].width,g=mounts[u].height,m=mounts[u].y+.8*py-+g,M=mounts[u].height-mounts[u+1].height,w=(mounts[u].height,mounts[u].width,.6*g);w=M;var b=0,I=+T;ctx.beginPath(),ctx.moveTo(C,m+g),ctx.moveTo(C,m),ctx.lineTo(C+(T-I)/2,m+b),ctx.bezierCurveTo(C+(T-I)/2+I/4,m+b+0,C+(T-I)/2+I/4,m+b+0,C+(T-I)/2+I/2,m+b+w/2),ctx.bezierCurveTo(C+(T-I)/2+I/2+I/4,m+b+w,C+(T-I)/2+I/2+I/4,m+b+w,C+(T-I)/2+I,m+b+w),ctx.lineTo(C+(T-I)/2+I,m+b+w),ctx.lineTo(C+T,m+w),ctx.lineTo(C+T,m+g),ctx.lineTo(C,m+g);var H=ctx.createLinearGradient(mounts[u].x-startXC*f,0+.8*py,mounts[u].x-startXC*f,mounts[u].y-300+.8*py),v=ctx.createLinearGradient(0,+HEIGHT+.1*py,0,0*HEIGHT+.1*py);ctx.fillStyle="hsl("+arr[4][0]+"deg "+arr[4][1]+"% 10%)",ctx.fill();for(r=10,a=1,e=0;e<r;e++)1==a&&v.addColorStop(1/r*e,"hsl("+(arr[1][0]-(10+3*e))+"deg "+(40-2*e)+"% "+(40-2*e)+"% /"+2*Math.pow(r-e,2)+"%)");(t=ctx.createLinearGradient(0,-0*HEIGHT,0,HEIGHT+0*HEIGHT)).addColorStop(sunY/5/HEIGHT*0,"hsl("+arr[4][0]+"deg "+(arr[4][1]-30+g_r1)+"% "+arr[4][2]+"%)"),t.addColorStop(sunY/4/HEIGHT,"hsl("+arr[3][0]+"deg "+(arr[3][1]-30+g_r1)+"% "+arr[3][2]+"%)"),t.addColorStop(sunY/.6/+HEIGHT,"hsl("+arr[3][0]+"deg "+(arr[13][1]-10)+"% "+arr[13][2]+"%)"),ctx.fillStyle="hsl("+hsl_f+"deg 100% 50% / 0%)";for(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+40+.3*py,0,WIDTH/Math.pow(1.618,1),sunY+.3*py,.4*WIDTH*2.6+.1*WIDTH+s),r=10,a=1,e=0;e<r;e++)1==a&&l.addColorStop(1/r*e,"hsl("+(arr[1][0]-(10+3*e))+"deg "+(40-2*e)+"% "+(40-2*e)+"% /"+ +Math.pow(r-e,2)+"%)");ctx.fillStyle=l,ctx.fill();for(var k,X=0;X<1;X++)G=2*mounts[u].y*(X+1),mounts[u+X].y,(k=ctx.createLinearGradient(mounts[u].x-.2*startXC,0,mounts[u].x-.2*startXC+4,0)).addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+arr[11][2]+"% / 100%)"),k.addColorStop(.7,"hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+arr[12][2]+"% / 100%)"),k.addColorStop(0,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+arr[13][2]+"% / 100%)"),ctx.fillStyle=k,ctx.fillRect(mounts[u].x-.2*startXC,mounts[u].y+.8*py,4,4)}}ctx.fillStyle=y,ctx.fillRect(0,160+.8*py,canvas.width,400);for(u=0;u<mountsCount2;u++)if(mounts2[u].x-.2*startXC<3*WIDTH&&mounts2[u].x-.2*startXC+mounts2[u].width>0-WIDTH){p=mounts2[u].p,h=mounts2[u].f,C=mounts2[u].x-.2*startXC,T=mounts2[u].width,g=mounts2[u].height,m=mounts2[u].y+.8*py-g,w=.6*g;w=M=mounts2[u].height-mounts2[u+1].height;b=0,I=+T;ctx.beginPath(),ctx.moveTo(C,m),ctx.lineTo(C+(T-I)/2,m+b),ctx.bezierCurveTo(C+(T-I)/2+I/4,m+b+0,C+(T-I)/2+I/4,m+b+0,C+(T-I)/2+I/2,m+b+w/2),ctx.bezierCurveTo(C+(T-I)/2+I/2+I/4,m+b+w,C+(T-I)/2+I/2+I/4,m+b+w,C+(T-I)/2+I,m+b+w),ctx.lineTo(C+(T-I)/2+I,m+b+w),ctx.lineTo(C+T,m+w),ctx.lineTo(C+T,m+g),ctx.lineTo(C,m+g),(v=ctx.createLinearGradient(mounts[u].x-.2*startXC,mounts[u].y+.8*py,mounts[u].x-.2*startXC,mounts[u].y-200+.8*py)).addColorStop(.1,"hsl("+arr[13][0]+"deg "+(arr[13][1]-30+g_r1)+"% "+(arr[13][2]-20)+"%)"),v.addColorStop(1,"hsl("+arr[13][0]+"deg "+(arr[13][1]-30+g_r1)+"% "+(arr[13][2]-20)+"%)"),ctx.fillStyle=v,ctx.fillStyle="hsl("+hsl_f+"deg 100% 50% / 0%)",(t=ctx.createLinearGradient(0,-0*HEIGHT,0,HEIGHT+0*HEIGHT)).addColorStop(sunY/5/HEIGHT*0,"hsl("+arr[4][0]+"deg "+(arr[4][1]-30+g_r1)+"% "+arr[4][2]+"%)"),t.addColorStop(sunY/4/HEIGHT,"hsl("+arr[3][0]+"deg "+(arr[3][1]-30+g_r1)+"% "+arr[3][2]+"%)"),t.addColorStop(sunY/.6/(1.2*HEIGHT),"hsl("+arr[13][0]+"deg "+(arr[13][1]-10)+"% "+arr[13][2]+"%)"),(v=ctx.createLinearGradient(mounts[u].x-startXC*f,mounts[u].y+.8*py,mounts[u].x-startXC*f,mounts[u].y-300+.8*py)).addColorStop(0,"hsl("+arr[3][0]+"deg "+(arr[3][1]-30+g_r1)+"% "+(arr[3][2]+60)+"%)"),v.addColorStop(1,"hsl("+arr[3][0]+"deg "+(arr[3][1]-30+g_r1)+"% "+(arr[3][2]-40)+"%)"),ctx.fillStyle=v,ctx.fillStyle="hsl("+arr[4][0]+"deg "+arr[4][1]+"% 20%)",ctx.fill();for(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,9),WIDTH/Math.pow(1.618,2),sunY+.3*py,2.6*WIDTH+s),r=10,a=1,e=0;e<r;e++)1==a&&l.addColorStop(1/r*e,"hsl("+(arr[1][0]-(20+3*e))+"deg "+(40-2*e)+"% "+(30-e)+"% /"+.6*Math.pow(r-e,2)+"%)");ctx.fillStyle=l,ctx.fill()}ctx.fillStyle=y,ctx.fillRect(0,160+.8*py,canvas.width,400);o=HEIGHT+350;1==game_state&&player.y>o&&(player.velY=0,player.velX=0,game_state=2),hsl_h=(level_player=-cameraXC/1e3)+startcr,player_xc=-startXC+WIDTH/Math.pow(1.618,3);player.width=level_player+player_q,player.height=level_player+player_q,ctx.fillStyle="#edfbff",ctx.font="700 10px Raleway",ctx.fillText("L e v e l  "+level_player,player_xc+player.x+30,player.y-10+py);for(h=0;h<arr.length;h++);if(ctx.fillStyle="hsl("+hsl_h+"deg 75% "+(hsl_l+sunB+5)+"%)",!keystate[spacebar]&&4!=ontouch_1||(2==game_state&&(startXC=0,player.x=120,player.y=200),tapToStart()),1==game_state&&(keystate[leftarrow]||1==ontouch_1?(player.velX-=.8*player.speed,c_1=1):keystate[rightarrow]||3==ontouch_1?(player.velX+=.8*player.speed,c_1=1):(0<player.velX&&(player.velX-=.7*player.speed,player.velX<=0&&(player.velX=0)),player.velX<0&&(player.velX+=.7*player.speed,0<=player.velX&&(player.velX=0)),1==c_1&&(c_1=2)),5<player.velX&&(player.velX=5),player.velX<-5&&(player.velX=-5),(keystate[uparrow]||2==ontouch_1)&&player.grounded&&(player.grounded=!1,player.velY=-6,startA==brickCurrent&&(bricks[brickCurrent].x,bricks[brickCurrent].width,player.x)),10<player.velY&&(player.velY=10),player.velY<-10&&(player.velY=-10)),2!=game_state&&(player.velY+=gravity),0==cameraC&&player.x<WIDTH*f_sc/2?player.x+=player.velX:0==cameraC&&player.x>=WIDTH*f_sc/2&&(cameraC=1),1==cameraC&&(player.x+=player.velX,cameraXC+=-player.velX,startXC=(camera_1-cameraXC-startXC)*xf+startXC),1==cameraC&&startXC<=0&&(cameraC=0),count++,ctx.font="16px Raleway",10==startA)for(var S=startA+1;S<brickCount;S++)bricks[S].x=bricks[S].x+40;for(S=0;S<brickCount;S++)if(bricks[S].x-startXC<WIDTH*(1+sc_z)&&0<bricks[S].x+bricks[S].width-startXC){ctx.fillStyle="hsl("+(hsl_h+comps[0])+"deg 80% "+(hsl_l+sunB+0)+"%)";bricks[S].velY;1==bricks[S].state&&bricks[S].velY<bricks[S].moveY?bricks[S].velY+=1:1==bricks[S].state&&bricks[S].velY>=bricks[S].moveY&&(bricks[S].state=2),2==bricks[S].state&&0<bricks[S].velY?--bricks[S].velY:2==bricks[S].state&&bricks[S].velY<=0&&(bricks[S].state=1);var W=bricks[S].y+py+bricks[S].velY,D=bricks[S].y+py+bricks[S].velY+bricks[S].height;ctx.fillStyle="hsl("+arr[10][0]+"deg "+arr[10][1]+"% "+arr[10][2]+"%)";var P,G=0;S==S&&(P=.01*(bricks[S].x+G-startXC-WIDTH/2));var Y=ctx.createLinearGradient(bricks[S].x-startXC,W,bricks[S].x-startXC,W+bricks[S].height);Y.addColorStop(0,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]-10)+"%)"),Y.addColorStop(.05,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]-10)+"%)"),Y.addColorStop(.5,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]-13)+"%)"),Y.addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]-10)+"%)"),ctx.fillStyle="hsl("+arr[3][0]+"deg 10% 10% / 100%)";var E=7e-4*(bricks[S].x+bricks[S].width-startXC-WIDTH/2);ctx.beginPath(),ctx.moveTo(bricks[S].x-startXC,W+E),ctx.lineTo(bricks[S].x+(bricks[S].width-Math.abs(.1*E))-startXC-bricks[S].radius,W-E),ctx.arcTo(bricks[S].x+(bricks[S].width-Math.abs(.1*E))-startXC,W-E,bricks[S].x+(bricks[S].width-Math.abs(.1*E))-startXC,W+bricks[S].radius-E,bricks[S].radius),ctx.lineTo(bricks[S].x+(bricks[S].width-Math.abs(.1*E))-startXC,D-bricks[S].radius+E),ctx.arcTo(bricks[S].x+(bricks[S].width-Math.abs(.1*E))-startXC,D+E,bricks[S].x+(bricks[S].width-Math.abs(.1*E))-bricks[S].radius-startXC,D+E,bricks[S].radius),ctx.lineTo(bricks[S].x+bricks[S].radius-startXC,D-E),ctx.arcTo(bricks[S].x-startXC,D-E,bricks[S].x-startXC,D-bricks[S].radius-E,bricks[S].radius),ctx.lineTo(bricks[S].x-startXC,W+bricks[S].radius+E),ctx.arcTo(bricks[S].x-startXC,W+E,bricks[S].x+bricks[S].radius-startXC,W+E,bricks[S].radius),ctx.fill(),(v=ctx.createLinearGradient(bricks[S].x-startXC,W,bricks[S].x-startXC,W+bricks[S].height)).addColorStop(0,"hsl("+arr[3][0]+"deg "+(arr[3][1]+50)+"% "+(arr[3][2]+10)+"% / 30%)"),v.addColorStop(.5,"hsl("+(arr[1][0]-20)+"deg "+(arr[3][1]+30)+"% "+(arr[3][2]+20)+"% / 20%)"),ctx.fillStyle=v,ctx.fill(),(q=ctx.createLinearGradient(bricks[S].x-startXC,W,bricks[S].x-startXC,W+bricks[S].height)).addColorStop(0,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 30%)"),q.addColorStop(1,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 0%)");for(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+100+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,2.6*WIDTH+s),r=10,a=1,e=0;e<r;e++)1==a&&l.addColorStop(1/r*e,"hsl("+(arr[1][0]-35)+"deg "+(60-2*e)+"% 50% /"+.8*Math.pow(2.3,r-e)/30*.7+"%)");ctx.fillStyle=l,ctx.fill();var z=player.x+player_xc+player.width-(bricks[S].x-startXC+2),F=bricks[S].x+bricks[S].width-2-startXC-(player.x+player_xc),Y=-.3*(player.y+py+player.height-W);0<z&&0<F&&10<z&&10<F&&Y<player.height-player.radius&&(z>=player.width&&(z=player.width),F>=player.width&&(F=player.width),ctx.beginPath(),ctx.moveTo(player.x+(player.width-z)+player_xc,W),ctx.lineTo(player.x+(player.width-(player.width-F))+player_xc+-player.radius,W),ctx.arcTo(player.x+player_xc+(player.width-(player.width-F)),W,player.x+player_xc+player.width-(player.width-F),W+player.radius,player.radius),ctx.lineTo(player.x+player_xc+(player.width-(player.width-F)),W+(player.height-Y)-player.radius),ctx.arcTo(player.x+player_xc+(player.width-(player.width-F)),W+(player.height-Y),player.x+player_xc+(player.width-(player.width-F))-player.radius,W+(player.height-Y),player.radius),ctx.lineTo(player.x+(player.width-z)+player_xc+player.radius,W+(player.height-Y)),ctx.arcTo(player.x+(player.width-z)+player_xc,W+(player.height-Y),player.x+(player.width-z)+player_xc,W+(player.height-Y)-player.radius,player.radius),ctx.lineTo(player.x+(player.width-z)+player_xc,W+player.radius),ctx.arcTo(player.x+(player.width-z)+player_xc,W,player.x+(player.width-z)+player_xc+player.radius,W,player.radius),ctx.fillStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% 15% /20%)",ctx.fill());var L,R,z=20+.03*py;ctx.beginPath(),ctx.moveTo(bricks[S].x-startXC,W+z),ctx.lineTo(bricks[S].x+bricks[S].width-startXC-bricks[S].radius,W+z),ctx.arcTo(bricks[S].x+bricks[S].width-startXC,W+z,bricks[S].x+bricks[S].width-startXC,W+z+bricks[S].radius,bricks[S].radius),ctx.lineTo(bricks[S].x+bricks[S].width-startXC,D-bricks[S].radius),ctx.arcTo(bricks[S].x+bricks[S].width-startXC,D,bricks[S].x+bricks[S].width-bricks[S].radius-startXC,D,bricks[S].radius),ctx.lineTo(bricks[S].x+bricks[S].radius-startXC,D),ctx.arcTo(bricks[S].x-startXC,D,bricks[S].x-startXC,D-bricks[S].radius,bricks[S].radius),ctx.lineTo(bricks[S].x-startXC,W+z+bricks[S].radius),ctx.arcTo(bricks[S].x-startXC,W+z,bricks[S].x+bricks[S].radius-startXC,W+z,bricks[S].radius),ctx.fillStyle="hsl("+(hsl_h+comp)+"deg 60% "+(hsl_l+sunB+10)+"% / 100%)",(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,0))).addColorStop(0,"hsl("+hsl_h+"deg 100% 70% / "+(1+sunB*sunv*0+0*py)+"%)"),l.addColorStop(1,"hsl("+hsl_h+"deg 100% 70% / 0%)"),ctx.fillStyle=l,S%2==0&&(L=60+.2*bricks[S].width,D=0+.05*bricks[S].width,R=.2*bricks[S].width,ctx.beginPath(),ctx.moveTo(bricks[S].x-+startXC+R,W+0),ctx.lineTo(bricks[S].x-+startXC+(R+L/2+Math.cos(Math.PI/2*1)*D),W+0-Math.sin(Math.PI/2*1)*D),ctx.lineTo(bricks[S].x-+startXC+(R+L),W+0),ctx.fillStyle="hsl("+arr[3][0]+"deg "+(arr[12][1]-30)+"% "+arr[12][2]+"% / 100%)",ctx.fill(),z=.002*(R+L/2+(bricks[S].x-+startXC)-WIDTH/2),ctx.beginPath(),ctx.moveTo(bricks[S].x-+startXC+R,W+0),ctx.lineTo(bricks[S].x-+startXC+(R+L/2+Math.cos(Math.PI/2*3+z)*D),W+0-Math.sin(Math.PI/2*3+z)*D),ctx.lineTo(bricks[S].x-+startXC+(R+L),W+0),ctx.fillStyle="hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+(arr[12][2]-30)+"% / 20%)",ctx.fill()),S%3==0&&(R=Math.PI/4*0,ctx.beginPath(),ctx.moveTo(bricks[S].x-startXC+70,W+0),ctx.lineTo(bricks[S].x-startXC+(70+100*Math.cos(Math.PI/2*1+R)),W+0-100*Math.sin(Math.PI/2*1+R)),ctx.moveTo(bricks[S].x-startXC+(70+50*Math.cos(Math.PI/2*1+R)),W+0-50*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+50*Math.cos(Math.PI/2*1+R)+20*Math.cos(Math.PI/4*3+R)),W+0-50*Math.sin(Math.PI/2*1+R)+20*-Math.sin(Math.PI/4*3+R)),ctx.moveTo(bricks[S].x-startXC+(70+60*Math.cos(Math.PI/2*1+R)),W+0-60*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+60*Math.cos(Math.PI/2*1+R)+20*Math.cos(Math.PI/4*1+R)),W+0-60*Math.sin(Math.PI/2*1+R)+20*-Math.sin(Math.PI/4*1+R)),ctx.moveTo(bricks[S].x-startXC+(70+70*Math.cos(Math.PI/2*1+R)),W+0-70*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+70*Math.cos(Math.PI/2*1+R)+10*Math.cos(Math.PI/4*3+R)),W+0-70*Math.sin(Math.PI/2*1+R)+10*-Math.sin(Math.PI/4*3+R)),ctx.moveTo(bricks[S].x-startXC+(70+80*Math.cos(Math.PI/2*1+R)),W+0-80*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+80*Math.cos(Math.PI/2*1+R)+10*Math.cos(Math.PI/4*1+R)),W+0-80*Math.sin(Math.PI/2*1+R)+10*-Math.sin(Math.PI/4*1+R)),ctx.strokeStyle="hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+arr[12][2]+"% / 100%)",ctx.lineWidth=5-Math.abs(P/3),ctx.stroke(),L=.001*(bricks[S].x-startXC+70-WIDTH/2),R=Math.PI/2*2+L,ctx.beginPath(),ctx.moveTo(bricks[S].x-startXC+70,W+0),ctx.lineTo(bricks[S].x-startXC+(70+100*Math.cos(Math.PI/2*1+R)),W+0-100*Math.sin(Math.PI/2*1+R)),ctx.moveTo(bricks[S].x-startXC+(70+50*Math.cos(Math.PI/2*1+R)),W+0-50*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+50*Math.cos(Math.PI/2*1+R)+20*Math.cos(Math.PI/4*3+R)),W+0-50*Math.sin(Math.PI/2*1+R)+20*-Math.sin(Math.PI/4*3+R)),ctx.moveTo(bricks[S].x-startXC+(70+60*Math.cos(Math.PI/2*1+R)),W+0-60*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+60*Math.cos(Math.PI/2*1+R)+20*Math.cos(Math.PI/4*1+R)),W+0-60*Math.sin(Math.PI/2*1+R)+20*-Math.sin(Math.PI/4*1+R)),ctx.moveTo(bricks[S].x-startXC+(70+70*Math.cos(Math.PI/2*1+R)),W+0-70*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+70*Math.cos(Math.PI/2*1+R)+10*Math.cos(Math.PI/4*3+R)),W+0-70*Math.sin(Math.PI/2*1+R)+10*-Math.sin(Math.PI/4*3+R)),ctx.moveTo(bricks[S].x-startXC+(70+80*Math.cos(Math.PI/2*1+R)),W+0-80*Math.sin(Math.PI/2*1+R)),ctx.lineTo(bricks[S].x-startXC+(70+80*Math.cos(Math.PI/2*1+R)+10*Math.cos(Math.PI/4*1+R)),W+0-80*Math.sin(Math.PI/2*1+R)+10*-Math.sin(Math.PI/4*1+R)),ctx.strokeStyle="hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+(arr[12][2]-20)+"% / 20%)",ctx.lineWidth=5-Math.abs(P/3),ctx.stroke()),player.y+py+player.velY+player.height>W+Math.abs(E)&&player.x+player_xc+player.width>bricks[S].x-startXC&&player.x+player_xc<bricks[S].x-startXC+bricks[S].width&&(player.velY=player.velY-(player.y+py+player.velY+player.height-(W+Math.abs(E))),player.grounded=!0,scale_z=scale_ms+.002*py,startA+1==(brickCurrent=S)&&(player.x,bricks[brickCurrent].x,startA+=10)),(player.x+player_xc+player.width>bricks[S].x-6-startXC&&player.x+player_xc+player.width<bricks[S].x+4-startXC&&player.x+player_xc+player.width>bricks[S].x-startXC||player.x+player_xc<bricks[S].x+bricks[S].width+6-startXC&&player.x+player_xc>bricks[S].x+bricks[S].width-4-startXC&&player.x+player_xc<bricks[S].x+bricks[S].width-startXC)&&player.y+py+player.height>W+10&&player.y+py<W+bricks[S].height-4&&(player.velX=0)}player.y+=player.velY;n=ctx.createLinearGradient(0,HEIGHT-100,0,HEIGHT+60);n.addColorStop(1,"#FFFFFFCC"),n.addColorStop(0,"#FFFFFF00");o=ctx.createLinearGradient(player.x+player_xc,player.y+py,player.x+player_xc,player.y+py+player.height);o.addColorStop(0,"hsl("+arr[14][0]+"deg "+arr[14][1]+"% "+arr[14][2]+"%)"),o.addColorStop(1,"hsl("+arr[15][0]+"deg "+arr[15][1]+"% "+arr[15][2]+"%)"),ctx.fillStyle=o;n=6e-4*(player.x+player_xc+player.width/2-WIDTH/2),o=6e-4*(player.y+py+player.height/2-HEIGHT/2);ctx.beginPath(),ctx.moveTo(player.x+o+player_xc,player.y+0+n+py),ctx.lineTo(player.x-o+player_xc+(player.width-Math.abs(16*n))-player.radius,player.y-n+0+py),ctx.arcTo(player.x-o+player_xc+(player.width-Math.abs(16*n)),player.y-n+0+py,player.x-o+player_xc+(player.width-Math.abs(16*n)),player.y-n+0+py+player.radius,player.radius),ctx.lineTo(player.x+o+player_xc+(player.width-Math.abs(16*n)),player.y+n+0+py+player.height-player.radius),ctx.arcTo(player.x+o+player_xc+(player.width-Math.abs(16*n)),player.y+n+0+py+player.height,player.x+o+player_xc+(player.width-Math.abs(16*n))-player.radius,player.y+n+0+py+player.height,player.radius),ctx.lineTo(player.x-o+player_xc+player.radius,player.y-n+0+py+player.height),ctx.arcTo(player.x-o+player_xc,player.y-n+0+py+player.height,player.x-o+player_xc,player.y-n+0+py+player.height-player.radius,player.radius),ctx.lineTo(player.x+o+player_xc,player.y+n+0+py+player.radius),ctx.arcTo(player.x+o+player_xc,player.y+n+0+py,player.x+o+player_xc+player.radius,player.y+n+0+py,player.radius),ctx.fill(),ctx.fillStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+arr[13][2]+"% / 100%)",ctx.fill();var q=ctx.createLinearGradient(player.x+player_xc,player.y+py,player.x+player_xc,player.y+py+player.height+0);ctx.createLinearGradient(player.x+player_xc,player.y+py,player.x+player_xc,player.y+py+player.height);q.addColorStop(0,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 20%)"),q.addColorStop(1,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 0%)"),ctx.fillStyle=q,ctx.fill(),(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,1))).addColorStop(0,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+arr[13][2]+"% / "+(40+sunB*sunv+0*py)+"%)"),l.addColorStop(1,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+arr[13][2]+"% / 0%)"),ctx.beginPath(),ctx.arc(player.x+player.width+player_xc-.4*player.width+0*scale,py+player.y+0+player.height/2+0*scale,.16*player.width,0,2*Math.PI),ctx.lineWidth=2,ctx.strokeStyle="#fff",ctx.stroke(),ctx.beginPath(),ctx.moveTo(player.x+player_xc+6,player.y+py+player.height/2),ctx.lineTo(player.x+player_xc+player.width-.5*player.width,player.y+py+player.height/2),ctx.setLineDash([7,5]),ctx.lineWidth=2,ctx.strokeStyle="#fff",ctx.stroke();for(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1)-0*startXC,sunY+.6*py,0,WIDTH/Math.pow(1.618,1),sunY+.6*py,2.6*+WIDTH+s),r=10,a=1,e=0;e<r;e++)1==a&&l.addColorStop(1/r*e,"hsl("+(arr[1][0]-3*e)+"deg "+(50-3*e)+"% "+(50-e)+"% /"+.3*Math.pow(2.1,r-e)/10+"%)");(l=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,1))).addColorStop(0,"hsl("+hsl_h+"deg 100% 80% / "+(32+0*py)+"%)"),l.addColorStop(1,"hsl("+hsl_h+"deg 100% 80% / 0%)"),ctx.beginPath(),ctx.arc(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,1),0,2*Math.PI),ctx.fillStyle=l,750<startXC&&startXC<755&&(scale_z=.1),1650<startXC&&startXC<1655&&(scale_z=-.1),1350<startXC&&startXC<1355&&(scale_z=-.2),2450<startXC&&startXC<2455&&(scale_z=.2),3650<startXC&&startXC<3655&&(scale_z=-.3),1==game_state&&startXC<50&&(ctx.fillStyle="#FFF",ctx.font="700 22px Raleway",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(ctx.fillRect(WIDTH/sc_z/3,100,3,HEIGHT-200),ctx.fillText("GO BACK",WIDTH/sc_z/3-WIDTH/sc_z*.2,HEIGHT/2),ctx.fillText("JUMP",WIDTH/sc_z/3+WIDTH/sc_z*.12,HEIGHT/2),ctx.fillRect(canvas.width/sc_z/3*2,100,3,HEIGHT-200),ctx.fillText("GO FORWARD",canvas.width/sc_z/3*2+100,HEIGHT/2)):ctx.fillText("- U s e  a r r o w k e y s  t o  m o v e  p l a y e r",WIDTH/3+0,HEIGHT/2)),2==game_state&&(ctx.fillStyle="#edfbff",ctx.font="700 60px Raleway",ctx.fillText("G A M E",WIDTH*f_sc/2-110,f_sc*HEIGHT-150+120),ctx.font="700 63px Raleway",ctx.fillText("O V E R",f_sc*WIDTH/2-110,f_sc*HEIGHT-100+120)),ctx.restore(),ctx.fillStyle="#FFFFFF",ctx.font="20px Raleway",setTimeout(function(){requestAFrame(game_loop)},0)}function trees_1(){for(var t=0,r=0;r<treesCount;r++){var a=2,e=trees[r].r;7<++t&&(t=0);var s,l,c,o,i,n,h,x,p,d,y,u,f,_,C,T,g,m,M,w,b,I,H=.97-.04*t;(trees[r].x-startXC)*H+e<2*WIDTH&&(trees[r].x-startXC)*H+e>-WIDTH&&(s=(trees[r].x-startXC)*H+e,l=100+py*b-6*t,c=trees[r].fx,o=trees[r].fy,i=trees[r].f_width,I=trees[r].f_height,n=trees[r].f_startw,h=trees[r].f_starth,x=trees[r].f_ystate,p=h,M=trees[r].f_ry,d=trees[r].f_xstate,y=s,m=trees[r].f_tx-200,u=l,g=trees[r].f_ty,f=n,w=trees[r].f_rx,_=trees[r].count,C=n/10-i/10,T=h/10-I/10,Math.floor(3*Math.random()),g=u-g,trees[r].fc_ty=.02*(g-trees[r].fc_ty)+trees[r].fc_ty,trees[r].fy=trees[r].fc_ty,Math.abs(g-trees[r].fc_ty)<1&&(g=-Math.floor(10*Math.random()),trees[r].f_ty+=g),500<o&&(o=100),m=y-m,trees[r].fc_tx=.02*(m-trees[r].fc_tx)+trees[r].fc_tx,trees[r].fx=trees[r].fc_tx,Math.abs(m-trees[r].fc_tx)<1&&(m=Math.floor(200*Math.random())-120,trees[r].f_tx=m),M=p-M,trees[r].fc_ry=.06*(M-trees[r].fc_ry)+trees[r].fc_ry,trees[r].f_height=trees[r].fc_ry,w=f-w,trees[r].fc_rx=.06*(w-trees[r].fc_rx)+trees[r].fc_rx,trees[r].f_width=trees[r].fc_rx,Math.abs(w-100)<1&&(Math.floor(40*Math.random()),0),d=trees[r].f_xstate,x=trees[r].f_ystate,0==d&&Math.floor(i)<=.06*n&&(trees[r].f_xstate=1,trees[r].f_rx=0),1==d&&Math.ceil(i)>=.96*n&&(++_%4?trees[r].f_ry=h:trees[r].f_rx=n,trees[r].f_xstate=0),1==d&&(C*=-1),0==x&&Math.floor(I)<=.06*h&&(trees[r].f_ystate=1,trees[r].f_ry=0),1==x&&Math.ceil(I)>=.96*h&&(++_%4?trees[r].f_ry=h:trees[r].f_rx=n,trees[r].f_ystate=0),1==x&&(T*=-1),trees[r].count=_,c=trees[r].fx,o=trees[r].fy,i=trees[r].f_width,I=trees[r].f_height,ctx.beginPath(),ctx.moveTo(s+T+c-i/2,l+C+o-I/2),ctx.lineTo(s-T+c+i/2,l-C+o-I/2),ctx.lineTo(s+T+c+i/2,l+C+o+I/2),ctx.lineTo(s-T+c-i/2,l-C+o+I/2),ctx.fillStyle="hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+ +(t+4))+"% / 100%)",ctx.fill(),(I=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,5)*sp_1+sp_)).addColorStop(0,"hsl("+(arr[13][0]+0)+"deg "+arr[13][1]+"% "+arr[13][2]+"% / "+60*sun_f1+"%)"),I.addColorStop(.3,"hsl("+(arr[13][0]+0)+"deg "+arr[13][1]+"% "+arr[13][2]+"% / "+40*sun_f1+"%)"),I.addColorStop(1,"hsl("+(arr[13][0]+0)+"deg "+arr[13][1]+"% "+arr[13][2]+"% / 0%)"),ctx.fillStyle=I,ctx.fill(),a=.4*bricks[r+t+10].width-200,dx=16*t,ctx.beginPath(),b=.02+.07*t,(a=ctx.createLinearGradient(bricks[r].x-startXC*H+a,0,bricks[r].x-startXC*H+a+20,0)).addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+2*(7-t))+"% / 100%)"),a.addColorStop(.7,"hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+(arr[12][2]+2*(7-t))+"% / 100%)"),a.addColorStop(0,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]+2*(7-t))+"% / 100%)"),ctx.fillStyle="hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+2*(t+4))+"% / 100%)",ctx.beginPath(),ctx.moveTo((trees[r].x-startXC)*H+e,100+py*b-6*t),ctx.lineTo((trees[r].x-startXC)*H+e,100+py*b-6*t),ctx.lineTo((trees[r].x-startXC)*H+e,100+py*b-6*t+600),ctx.lineTo((trees[r].x-startXC)*H+e+(50-2*t),100+py*b-6*t+600),ctx.lineTo((trees[r].x-startXC)*H+e+(50-2*t),100+py*b-6*t+300),ctx.lineTo((trees[r].x-startXC)*H+e+(40-2*t),100+py*b-6*t+100),ctx.lineTo((trees[r].x-startXC)*H+e+(30-2*t),100+py*b-6*t),ctx.lineTo((trees[r].x-startXC)*H+e,100+py*b-6*t),(a=ctx.createLinearGradient((trees[r].x-startXC)*H+e,100+py*b-6*t,(trees[r].x-startXC)*H+e+(30-2*t),100+py*b-6*t)).addColorStop(0,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+30-2*(t+4))+"%)"),a.addColorStop(.5,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+30-2*(t+4)+1)+"%)"),a.addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+30-2*(t+4))+"%)"),ctx.fillStyle=a,ctx.fill(),trees[r].x,(I=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,0,WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,4)*sp_1+sp_)).addColorStop(0,"hsl("+(arr[13][0]+-10)+"deg "+arr[13][1]+"% "+(arr[13][2]-3*t)+"% / "+(50-3*t)+"%)"),I.addColorStop(.3,"hsl("+(arr[13][0]+-10)+"deg "+arr[13][1]+"% "+(arr[13][2]-3*t)+"% / "+(40-3*t)+"%)"),I.addColorStop(1,"hsl("+(arr[13][0]+-10)+"deg "+arr[13][1]+"% "+(arr[13][2]-3*t)+"% / 0%)"),ctx.fillStyle=I,ctx.fill())}}var r20=0,x_c4=0,tree_x=0,tree_y=0;function trees_2(){for(var t,r,a,e,s,l,c,o,i,n,h,d,u,f,_,C,T,g,m,M,w=0;w<treesCount;w++)r20=trees[w].r+100,p++,7<p&&(p=0),x_c4=1.24-.04*p,(trees[w].x-startXC)*x_c4+r20<2*WIDTH&&(trees[w].x-startXC)*x_c4+r20>-WIDTH&&(tree_x=(trees[w].x-startXC)*x_c4+r20,tree_y=100+py*g-6*p,t=trees[w].fx,M=trees[w].fy,r=trees[w].f_width,m=trees[w].f_height,a=trees[w].f_startw,e=trees[w].f_starth,s=trees[w].f_ystate,l=e,C=trees[w].f_ry,c=trees[w].f_xstate,o=x,_=trees[w].f_tx-200,i=y,f=trees[w].f_ty,n=a,T=trees[w].f_rx,h=trees[w].count,d=a/10-r/10,u=e/10-m/10,Math.floor(3*Math.random()),f=i-f,trees[w].fc_ty=.02*(f-trees[w].fc_ty)+trees[w].fc_ty,trees[w].fy=trees[w].fc_ty,Math.abs(f-trees[w].fc_ty)<1&&(f=-Math.floor(10*Math.random()),trees[w].f_ty+=f),500<M&&(M=100),_=o-_,trees[w].fc_tx=.02*(_-trees[w].fc_tx)+trees[w].fc_tx,trees[w].fx=trees[w].fc_tx,Math.abs(_-trees[w].fc_tx)<1&&(_=Math.floor(200*Math.random())-120,trees[w].f_tx=_),C=l-C,trees[w].fc_ry=.01*(C-trees[w].fc_ry)+trees[w].fc_ry,trees[w].f_height=trees[w].fc_ry,T=n-T,trees[w].fc_rx=.01*(T-trees[w].fc_rx)+trees[w].fc_rx,trees[w].f_width=trees[w].fc_rx,Math.abs(T-100)<1&&(Math.floor(40*Math.random()),0),c=trees[w].f_xstate,s=trees[w].f_ystate,0==c&&Math.floor(r)<=.06*a&&(trees[w].f_xstate=1,trees[w].f_rx=0),1==c&&Math.ceil(r)>=.96*a&&(++h%4?trees[w].f_ry=e:trees[w].f_rx=a,trees[w].f_xstate=0),1==c&&(d*=-1),0==s&&Math.floor(m)<=.06*e&&(trees[w].f_ystate=1,trees[w].f_ry=0),1==s&&Math.ceil(m)>=.96*e&&(++h%4?trees[w].f_ry=e:trees[w].f_rx=a,trees[w].f_ystate=0),1==s&&(u*=-1),trees[w].count=h,t=trees[w].fx,M=trees[w].fy,r=trees[w].f_width,m=trees[w].f_height,ctx.beginPath(),ctx.moveTo(tree_x+u+t-r/2,tree_y+d+M-m/2),ctx.lineTo(tree_x-u+t+r/2,tree_y-d+M-m/2),ctx.lineTo(tree_x+u+t+r/2,tree_y+d+M+m/2),ctx.lineTo(tree_x-u+t-r/2,tree_y-d+M+m/2),ctx.fillStyle="hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+ +(p+4))+"% / 100%)",ctx.fill(),M=2,M=.4*bricks[w+p+10].width-200,dx=16*p,g=.02+.07*p,(m=ctx.createLinearGradient(bricks[w].x-startXC*x_c4+M,0,bricks[w].x-startXC*x_c4+M+20,0)).addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]-2*p)+"% / 100%)"),m.addColorStop(.7,"hsl("+arr[12][0]+"deg "+arr[12][1]+"% "+(arr[12][2]-2*(7-p))+"% / 100%)"),m.addColorStop(0,"hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-2*(7-p))+"% / 100%)"),ctx.beginPath(),ctx.moveTo((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p),ctx.lineTo((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p),M=150+r20/12,ctx.moveTo((trees[w].x-startXC)*x_c4+r20+10,100+py*g-6*p+M),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+10,100+py*g-6*p+M),ctx.lineTo((trees[w].x-startXC)*x_c4+r20-40+10,100+py*g-6*p+M),ctx.lineTo((trees[w].x-startXC)*x_c4+r20-40+10,100+py*g-6*p+(M-10)),ctx.lineTo((trees[w].x-startXC)*x_c4+r20-44+10,100+py*g-6*p+(M-10)),ctx.lineTo((trees[w].x-startXC)*x_c4+r20-44+10,100+py*g-6*p+(6+M)),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+10,100+py*g-6*p+(6+M)),m=1.005,ctx.moveTo((trees[w].x-startXC)*x_c4*m+r20-(20+r20/100)+10,100+py*g-6*p+(M-28)),ctx.lineTo((trees[w].x-startXC)*x_c4*m+r20-60+10,100+py*g-6*p+(M-28)),ctx.lineTo((trees[w].x-startXC)*x_c4*m+r20-60+10,100+py*g-6*p+(M-10)),ctx.lineTo((trees[w].x-startXC)*x_c4*m+r20-(20+r20/100)+10,100+py*g-6*p+(M-10)),ctx.moveTo((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p+(6+M)),ctx.lineTo((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p+900),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+(70-2*p),100+py*g-6*p+900),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+(46-2*p),100+py*g-6*p+300),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+(36-2*p),100+py*g-6*p+100),ctx.lineTo((trees[w].x-startXC)*x_c4+r20+(26-2*p),100+py*g-6*p),ctx.lineTo((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p),Math.abs(WIDTH/2-((trees[w].x-startXC)*x_c4+r20)),trees[w].x,(M=ctx.createLinearGradient((trees[w].x-startXC)*x_c4+r20,100+py*g-6*p,(trees[w].x-startXC)*x_c4+r20+10,100+py*g-6*p)).addColorStop(0,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+ +(p+4))+"%)"),M.addColorStop(.5,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+ +(p+4)+1)+"%)"),M.addColorStop(1,"hsl("+arr[11][0]+"deg "+arr[11][1]+"% "+(arr[11][2]+ +(p+4))+"%)"),ctx.fillStyle=M,ctx.fill())}function mountains_4(){for(var t=0;t<mountsCount_c;t++){if(mounts_c[t].x-.6*startXC<2*WIDTH&&0<mounts_c[t].x-.6*startXC+mounts_c[t].width){var r=mounts_c[t].r_0,a=-.001*r,e=mounts_c[t].x-.6*startXC,s=mounts_c[t].y-r+py*(.85+a),l=mounts_c[t].width,c=mounts_c[t].height,o=(s-startY)/startY,i=(e-startX)/startX;i<=0&&(i=0);var n=(startX-e)/startX;n<=0&&(n=0);var h=Math.abs(sunX-e)-(WIDTH/Math.pow(1.618,6)+l/2-WIDTH/Math.pow(1.618,6)),x=Math.abs(sunY+py*sun_p-s)-(WIDTH/Math.pow(1.618,6)+c/2-WIDTH/Math.pow(1.618,6)),r=mounts_c[t].sqz,a=WIDTH/Math.pow(1.618,6)*3;0<h&&h<a&&x<0&&(r=100/a*.01*h,mounts_c[t].sqz=r),Math.abs(sunX-e),Math.pow(1.618,6),ctx.fillStyle="#a03",ctx.fillStyle="hsl("+arr[13][0]+"deg "+(arr[13][1]-10)+"% "+(arr[13][2]+5)+"% / 100%)",ctx.beginPath(),ctx.moveTo(e-l/2,s-c/2),ctx.lineTo(e-l/2,s-c/2+c),ctx.lineTo(e-l/2+depth-i*tr+n*tr,s-c/2+c-skew1-o*tr2),ctx.lineTo(e-l/2+skew1-i*tr+n*tr,s-c/2+depth-o*tr2),ctx.fillStyle="hsl("+arr[1][0]+"deg 5% "+(arr[3][2]+15)+"% / 100%)",ctx.fill();for(var p=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,6),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH*sp_1+sp_),d=0;d<10;d++)p.addColorStop(.1*d,"hsl("+(arr[1][0]-(20+3*d))+"deg "+(70-2*d)+"% "+(30-d)+"% /"+.8*Math.pow(10-d,2)+"%)");ctx.fillStyle=p,ctx.fill(),ctx.fillStyle="#d03",ctx.fillStyle="hsl("+arr[1][0]+"deg 5% "+(arr[3][2]+15)+"% / 100%)",ctx.beginPath(),ctx.moveTo(e-l/2+l,s-c/2),ctx.lineTo(e-l/2+l,s-c/2+c),ctx.lineTo(e-l/2+l-depth-i*tr+n*tr,s-c/2+c-skew1-o*tr2),ctx.lineTo(e-l/2+l-skew1-i*tr+n*tr,s-c/2+depth-o*tr2),ctx.fill(),ctx.fillStyle=p,ctx.fill(),skew1<o*tr2&&(ctx.fillStyle="#f03",ctx.fillStyle="hsl("+arr[1][0]+"deg 5% "+(arr[3][2]+35)+"% / 100%)",ctx.beginPath(),ctx.moveTo(e-l/2,s-c/2),ctx.lineTo(e-l/2+l,s-c/2),ctx.lineTo(e-l/2+l-skew1-i*tr+n*tr,s-c/2+depth-o*tr2),ctx.lineTo(e-l/2+skew1-i*tr+n*tr,s-c/2+depth-o*tr2),ctx.fill(),ctx.fillStyle=p,ctx.fill()),ctx.fillStyle="#c00",ctx.fillStyle="hsl("+arr[3][0]+"deg 0% "+(arr[3][2]+-5)+"% / 100%)",ctx.beginPath(),ctx.moveTo(e-l/2,s-c/2),ctx.lineTo(e-l/2,s-c/2+c),ctx.lineTo(e-l/2+l,s-c/2+c),ctx.lineTo(e-l/2+l,s-c/2),ctx.fill();o=ctx.createLinearGradient(e-l/2,s-c/2,e-l/2,s-c/2+c);o.addColorStop(0,"hsl("+arr[3][0]+"deg "+(arr[3][1]+50)+"% "+(arr[3][2]+10)+"% / 30%)"),o.addColorStop(.5,"hsl("+(arr[1][0]-20)+"deg "+(arr[3][1]+30)+"% "+(arr[3][2]+20)+"% / 20%)"),ctx.fillStyle=o,ctx.fill(),y+=l-20,ctx.beginPath(),ctx.moveTo(e-l/2+10,y+s-c/2+10),ctx.lineTo(e-l/2+10,y+s-c/2+(l-20)),ctx.lineTo(e-l/2+l-10,y+(s-c/2+(l-20))),ctx.lineTo(e-l/2+l-10,y+s-c/2+10),ctx.lineTo(e-l/2+10-2,y+s-c/2+10+2),ctx.strokeStyle="hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+(arr[3][2]-6)+"% / 100%)",ctx.lineWidth=8,ctx.strokeStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-3)+"% / 100%)",ctx.lineWidth=3,ctx.beginPath(),ctx.moveTo(e,y+(s-c/2)+10+(l-30)/2-10),ctx.lineTo(e+10,y+(s-c/2)+10+(l-30)/2),ctx.lineTo(e,y+(s-c/2)+10+(l-30)/2+10),ctx.lineTo(e-10,y+(s-c/2)+10+(l-30)/2),ctx.lineTo(e,y+(s-c/2)+10+(l-30)/2-10),ctx.fillStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-5)+"% / 100%)",ctx.strokeStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-7)+"% / 100%)",ctx.lineWidth=5}ctx.beginPath(),ctx.moveTo(e-l/2,s-c/2),ctx.lineTo(e-l/2,s-c/2+c),ctx.lineTo(e-l/2+l,s-c/2+c),ctx.lineTo(e-l/2+l,s-c/2);o=ctx.createLinearGradient(e-l/2,s-c/2,e-l/2,s-c/2+220);o.addColorStop(0,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 30%)"),o.addColorStop(1,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 0%)"),ctx.fillStyle=p,ctx.fill();for(var y=0,u=20;u<2;u++){0==u&&(ctx.beginPath(),ctx.moveTo(e-30,y+s-c/2+10),ctx.lineTo(e+30,y+s-c/2+10),ctx.setLineDash([10,15]),ctx.lineWidth=6,ctx.strokeStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-20)+"% / 100%)",ctx.stroke(),T=.6*l,ctx.beginPath(),ctx.moveTo(e+6,y+s-c/2+T),ctx.lineTo(e+6,y+s-c/2+T-20),ctx.bezierCurveTo(e+4,y+s-c/2+T-25,e-4,y+s-c/2+T-25,e-6,y+s-c/2+T-20),ctx.lineTo(e-6,y+s-c/2+T),ctx.lineTo(e-6,y+s-c/2+T),ctx.fillStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-45)+"% / 100%)",ctx.fillStyle="hsl("+arr[0][0]+"deg "+arr[0][1]+"% "+(arr[0][2]-5)+"% / 100%)",ctx.fill()),ctx.setLineDash([]);var f=1.02*(mounts_c[t].x-.6*startXC)-l/2+12,_=s-c/2-70,C=0-mounts_c[t].fl_r;mounts_c[t].sc_fx=.01*(C-mounts_c[t].sc_fx)+mounts_c[t].sc_fx;var T=mounts_c[t].sc_fx;Math.abs(C-mounts_c[t].sc_fx)<7&&(mounts_c[t].fl_r*=-1),ctx.beginPath(),ctx.moveTo(f,_),ctx.bezierCurveTo(40+f,5+_+T,40+f,5+_+T,80+f,10+_+T/2*-1),ctx.bezierCurveTo(40+f,10+_+5+T,40+f,10+_+5+T,f,20+_),ctx.lineTo(f,_),ctx.fillStyle="hsl("+arr[13][0]+"deg "+arr[13][1]+"% "+(arr[13][2]-17)+"% / 100%)",ctx.fill(),ctx.beginPath(),ctx.moveTo(f,_),ctx.lineTo(f,70+_),ctx.lineWidth=5,ctx.stroke()}}}function mountains_5(){for(var t,r,a,e,s=0;s<mountsCount_f;s++)mounts_f[s].x-1.1*startXC<WIDTH&&0<mounts_f[s].x-1.1*startXC+mounts_f[s].width&&(t=mounts_f[s].p,r=mounts_f[s].f,e=1.9,a=.09*(mounts_f[s].x-1.1*startXC+mounts_f[s].width/2-WIDTH/2),ctx.beginPath(),ctx.moveTo(mounts_f[s].x-1.1*startXC,mounts_f[s].y-a+py*e),ctx.lineTo(mounts_f[s].x-1.1*startXC+.3*mounts_f[s].width,mounts_f[s].y+a+py*e-mounts_f[s].height*(.1*t)),ctx.lineTo(mounts_f[s].x-1.1*startXC+(.7*mounts_f[s].width-Math.abs(6*a)),mounts_f[s].y-a+py*e-mounts_f[s].height*(.1*r)),ctx.lineTo(mounts_f[s].x-1.1*startXC+(mounts_f[s].width-Math.abs(6*a)),mounts_f[s].y+a+py*e),ctx.lineTo(mounts_f[s].x-1.1*startXC,mounts_f[s].y-a+py*e),ctx.fillStyle="hsl("+hsl_h+"deg 95% "+(hsl_l+sunB)+"%)",(a=ctx.createLinearGradient(mounts_f[s].x-1.1*startXC,mounts_f[s].y+py*e,mounts_f[s].x-1.1*startXC,mounts_f[s].y-mounts_f[s].height+py*e)).addColorStop(0,"hsl("+arr[17][0]+"deg "+arr[17][1]+"% "+arr[17][2]+"%)"),a.addColorStop(1,"hsl("+arr[18][0]+"deg "+arr[18][1]+"% "+arr[18][2]+"%)"),ctx.fillStyle=a,ctx.fill(),ctx.fillStyle="hsl("+hsl_f+"deg 100% 50% / 0%)",ctx.fill(),(e=ctx.createLinearGradient(mounts_f[s].x-1.1*startXC,mounts_f[s].y+py*e,mounts_f[s].x-1.1*startXC,mounts_f[s].y-mounts_f[s].height+py*e)).addColorStop(0,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 70%)"),e.addColorStop(1,"hsl("+arr[3][0]+"deg "+arr[3][1]+"% "+arr[3][2]+"% / 0%)"),ctx.fillStyle=e,ctx.fill(),(e=ctx.createRadialGradient(WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,5),WIDTH/Math.pow(1.618,1),sunY+.3*py,WIDTH/Math.pow(1.618,1))).addColorStop(0,"hsl("+arr[19][0]+"deg "+arr[19][1]+"% "+arr[19][2]+"% / 40%)"),e.addColorStop(1,"hsl("+arr[19][0]+"deg "+arr[19][1]+"% "+arr[19][2]+"% / 0%)"),ctx.fillStyle=e,ctx.fill())}window.addEventListener("load",function(){main()});
